<ion-header>
  <ion-toolbar>
    <ion-title slot="start">My Account</ion-title>
    <ion-icon slot="end" class="logout" (click)="logout()" name="log-out-outline"></ion-icon> 
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="flex-center">
    <img src="./assets/icon/avatar.png" width="50%"/>
  </div>

  <div class="user-profile ion-text-center">
    <h3 class="user-name">{{user_fname}} {{user_lname}}</h3>
    <ion-icon class="edit" (click)="editProfle()" name="create-outline"></ion-icon>
  </div>
  

  <ion-segment [(ngModel)]="account" scrollable>
    <ion-segment-button value="details">
      <ion-label>My Profile</ion-label>
      <ion-icon name="person-circle"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="pets">
      <ion-label>My Pets</ion-label>
      <ion-icon name="paw"></ion-icon>
    </ion-segment-button>
    <ion-segment-button value="schedule">
      <ion-label>My Schedule</ion-label>
      <ion-icon name="time-outline"></ion-icon>
    </ion-segment-button>
  </ion-segment>
  
  <!-- USER INFO  -->
  <div class="user-info" [ngSwitch]="account">

    <ion-card *ngSwitchCase="'details'">
      <ion-item lines="full">
        <ion-label>
          <h3>Email</h3>
          <p>{{email}}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-label>
          <h3>Contact Number</h3>
          <p>{{contact}}</p>
        </ion-label>
      </ion-item>

      <ion-item lines="full">
        <ion-label>
          <h3>Address</h3>
          <p>{{address}}</p>
        </ion-label>
      </ion-item>
    </ion-card>

    <!-- EXISTING PETS PROFILE-->
    <ion-card *ngSwitchCase="'pets'">
      <div class="pet-info">
        <ion-list *ngFor="let pet of pets">
            <ion-item button detail="true" (click)="getPetInfo(pet.pet_id)" lines="none" color="light">
              <ion-avatar>
                <img class="petpic" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
              </ion-avatar>
              <ion-label>{{pet.pet_name}}</ion-label>
            </ion-item>
        </ion-list> 
      </div>

      <!-- ADDING NEW PETS -->
      <div class="add-btn">
        <ion-button id="open-modal" expand="block">
          <ion-icon slot="start" name="add"></ion-icon>
          Add Pets
        </ion-button>

        <ion-modal #modal trigger="open-modal">
          <ng-template>
            <ion-content>
              <ion-toolbar>
                <h6>Pet's Information</h6>
                <ion-buttons slot="end" (click)="addPet()">
                  <ion-button (click)="modal.dismiss()">Done</ion-button>
                </ion-buttons>
              </ion-toolbar>

              <ion-list class="addpet-info">
                <ion-item lines="none" >
                  <ion-input placeholder="Name" [(ngModel)]="Name" name="Name" type="text" color="dark" required></ion-input>
                </ion-item>
          
                <ion-item lines="none" >
                  <ion-input placeholder="Color/Markings" [(ngModel)]="cm" name="cm" type="text" color="dark" required></ion-input>
                </ion-item>
          
                <ion-item lines="none" >
                  <ion-input placeholder="Breed" type="text" [(ngModel)]="breed" name="breed" color="dark" required></ion-input>
                </ion-item>
                
                <ion-item lines="none">
                  <ion-label>Birthdate</ion-label>
                  <ion-input color="dark" value="{{ date | date: 'dd-MMM-YYYY' }}" id="date" class="ion-text-end"></ion-input>
                    <ion-popover trigger="date" size="auto" side="top" alignment="center">
                      <ng-template>
                        <ion-datetime presentation="date" [(ngModel)]="date"></ion-datetime>
                      </ng-template>
                   </ion-popover>
                </ion-item>

                <ion-item lines="none">
                  <ion-label required>Gender</ion-label>
                  <ion-select interface="popover" [(ngModel)]="gender" name="gender">
                    <ion-select-option value="Female">Female</ion-select-option>
                    <ion-select-option value="Male">Male</ion-select-option>            
                  </ion-select>
                </ion-item>
              </ion-list> 
            </ion-content>
          </ng-template>
        </ion-modal>  
      </div>
    </ion-card>

    <!-- ADDING AND OVERSEE SCHED -->
    <div class="appointment" *ngSwitchCase="'schedule'" >
        <ion-card>
          <ion-item lines="none">
            <ion-label>Deworming - Akio <br> 11 Sep 2022</ion-label>
          </ion-item>
        </ion-card>
    </div>

  </div>
</ion-content>